<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAPI Skills - Progressive API Loading for Agents</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Source+Serif+4:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --mustard: #D4A03E;
            --burnt-orange: #C85D3E;
            --teal: #2A7B7B;
            --olive: #5E7153;
            --cream: #FAF7F2;
            --warm-white: #FFFEF9;
            --charcoal: #2D2D2D;
            --light-charcoal: #4A4A4A;
            --sand: #E8E0D5;
            --purple: #7B6BA7;
            --blue: #5D8AA8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Space Grotesk', sans-serif; background-color: var(--cream); color: var(--charcoal); line-height: 1.6; }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 2rem; }

        /* Header */
        header { padding: 1.5rem 0; }
        header .container { display: flex; align-items: center; justify-content: space-between; }
        .logo { font-size: 1.25rem; font-weight: 600; color: var(--teal); text-decoration: none; display: flex; align-items: center; gap: 0.5rem; }
        .logo-mark { width: 32px; height: 32px; background: var(--burnt-orange); border-radius: 6px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 0.9rem; }
        .main-nav { display: flex; align-items: center; gap: 2rem; }
        .main-nav a { text-decoration: none; color: var(--light-charcoal); font-size: 0.95rem; font-weight: 500; transition: color 0.2s ease; }
        .main-nav a:hover, .main-nav a.active { color: var(--teal); }
        .main-nav a.nav-cta { background: var(--teal); color: white; padding: 0.6rem 1.25rem; border-radius: 8px; }
        .main-nav a.nav-cta:hover { background: #237070; color: white; }
        .main-nav a.nav-cta-alt { background: var(--burnt-orange); }
        .main-nav a.nav-cta-alt:hover { background: #A84D32; }

        /* Mobile Navigation */
        .mobile-menu-btn { display: none; background: none; border: none; cursor: pointer; padding: 0.5rem; z-index: 200; }
        .mobile-menu-btn span { display: block; width: 24px; height: 2px; background: var(--charcoal); margin: 5px 0; transition: all 0.3s ease; }
        .mobile-menu-btn.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .mobile-menu-btn.active span:nth-child(2) { opacity: 0; }
        .mobile-menu-btn.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }
        .mobile-menu { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: var(--charcoal); z-index: 150; flex-direction: column; justify-content: center; align-items: center; gap: 2rem; }
        .mobile-menu.active { display: flex; }
        .mobile-menu a { color: var(--cream); text-decoration: none; font-size: 1.5rem; font-weight: 600; padding: 1rem 2rem; min-height: 48px; display: flex; align-items: center; }
        .mobile-menu a:hover { color: var(--mustard); }
        .mobile-menu a.nav-cta { background: var(--teal); border-radius: 8px; font-size: 1.25rem; }
        .mobile-menu a.nav-cta-alt { background: var(--burnt-orange); }

        /* Page Header */
        .page-header { padding: 4rem 0 2rem; text-align: center; }
        .page-header h1 { font-family: 'Source Serif 4', Georgia, serif; font-size: 3rem; font-weight: 600; color: var(--charcoal); margin-bottom: 1rem; }
        .page-header .subtitle { font-size: 1.25rem; color: var(--light-charcoal); max-width: 700px; margin: 0 auto; line-height: 1.7; }

        /* Content */
        .content { padding: 2rem 0 4rem; }
        .content-grid { display: grid; grid-template-columns: 220px 1fr; gap: 3rem; }
        .sidebar { position: sticky; top: 2rem; height: fit-content; }
        .sidebar h3 { font-size: 0.9rem; font-weight: 600; color: var(--teal); margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .sidebar ul { list-style: none; }
        .sidebar li { margin-bottom: 0.5rem; }
        .sidebar a { text-decoration: none; color: var(--light-charcoal); font-size: 0.95rem; display: block; padding: 0.4rem 0; transition: color 0.2s ease; }
        .sidebar a:hover, .sidebar a.active { color: var(--teal); }

        .main-content h2 { font-family: 'Source Serif 4', Georgia, serif; font-size: 1.75rem; font-weight: 600; margin: 2.5rem 0 1rem; padding-top: 1rem; border-top: 1px solid var(--sand); }
        .main-content h2:first-child { margin-top: 0; border-top: none; padding-top: 0; }
        .main-content h3 { font-size: 1.2rem; font-weight: 600; margin: 1.5rem 0 0.75rem; }
        .main-content p { margin-bottom: 1rem; color: var(--light-charcoal); }
        .main-content ul, .main-content ol { margin-bottom: 1rem; padding-left: 1.5rem; color: var(--light-charcoal); }
        .main-content li { margin-bottom: 0.5rem; }

        /* Code blocks */
        pre { background: var(--charcoal); color: #e0e0e0; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0; font-size: 0.9rem; line-height: 1.5; }
        code { font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace; }
        p code { background: var(--sand); padding: 0.2rem 0.4rem; border-radius: 4px; font-size: 0.9em; }

        /* Comparison table */
        .comparison-table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
        .comparison-table th, .comparison-table td { padding: 1rem; text-align: left; border-bottom: 1px solid var(--sand); }
        .comparison-table th { background: var(--charcoal); color: var(--cream); font-weight: 600; }
        .comparison-table tr:hover { background: var(--warm-white); }
        .comparison-table .highlight { background: rgba(42, 123, 123, 0.1); }

        /* Callout boxes */
        .callout { padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0; }
        .callout-teal { background: rgba(42, 123, 123, 0.1); border-left: 4px solid var(--teal); }
        .callout-orange { background: rgba(200, 93, 62, 0.1); border-left: 4px solid var(--burnt-orange); }
        .callout h4 { font-weight: 600; margin-bottom: 0.5rem; }

        /* Stats boxes */
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin: 2rem 0; }
        .stat-box { background: var(--warm-white); padding: 1.5rem; border-radius: 8px; text-align: center; }
        .stat-box .number { font-size: 2.5rem; font-weight: 700; color: var(--teal); }
        .stat-box .label { font-size: 0.9rem; color: var(--light-charcoal); margin-top: 0.5rem; }

        /* Footer */
        footer { background: var(--charcoal); color: var(--cream); padding: 3rem 0; margin-top: 4rem; }
        footer .container { display: flex; justify-content: space-between; align-items: center; }
        footer p { font-size: 0.9rem; opacity: 0.8; }
        footer a { color: var(--mustard); text-decoration: none; }
        footer a:hover { text-decoration: underline; }

        @media (max-width: 900px) {
            .content-grid { grid-template-columns: 1fr; }
            .sidebar { position: static; margin-bottom: 2rem; }
            .main-nav { display: none; }
            .mobile-menu-btn { display: block; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="logo">
                <span class="logo-mark">M</span>
                Markdown API
            </a>
            <nav class="main-nav">
                <a href="getting-started.html">Get Started</a>
                <a href="skills.html" class="active">Skills</a>
                <a href="findings.html">Findings</a>
                <a href="specs/mapi-specification-v0.94.html" class="nav-cta">Read Spec</a>
            </nav>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <span></span><span></span><span></span>
            </button>
        </div>
    </header>

    <div class="mobile-menu">
        <a href="getting-started.html">Get Started</a>
        <a href="skills.html">Skills</a>
        <a href="findings.html">Findings</a>
        <a href="specs/mapi-specification-v0.94.html" class="nav-cta">Read Spec</a>
    </div>

    <section class="page-header">
        <div class="container">
            <h1>MAPI Skills</h1>
            <p class="subtitle">Progressive API loading for AI agents. Load only the capabilities you need, reduce token usage by 99%, and maintain high accuracy.</p>
        </div>
    </section>

    <section class="content">
        <div class="container">
            <div class="content-grid">
                <aside class="sidebar">
                    <h3>On This Page</h3>
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#problem">The Problem</a></li>
                        <li><a href="#solution">The Solution</a></li>
                        <li><a href="#structure">Folder Structure</a></li>
                        <li><a href="#how-it-works">How It Works</a></li>
                        <li><a href="#results">Test Results</a></li>
                        <li><a href="#converter">Converting Specs</a></li>
                        <li><a href="#spec">Full Specification</a></li>
                    </ul>
                </aside>

                <main class="main-content">
                    <h2 id="overview">Overview</h2>
                    <p>MAPI Skills is a modular authoring format that enables AI agents to load API capabilities progressively. Instead of loading an entire API specification into context, agents load only what they need for each task.</p>

                    <div class="stats-grid">
                        <div class="stat-box">
                            <div class="number">99%</div>
                            <div class="label">Token Reduction</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">90%</div>
                            <div class="label">Accuracy Maintained</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">2</div>
                            <div class="label">LLM Calls Per Request</div>
                        </div>
                    </div>

                    <h2 id="problem">The Problem</h2>
                    <p>Large APIs present a significant challenge for LLM-based agents:</p>
                    <ul>
                        <li><strong>GitHub's OpenAPI spec</strong> is 12MB - far exceeding any context window</li>
                        <li><strong>Full MAPI specs</strong> for large APIs can be 25-75KB</li>
                        <li><strong>Every request</strong> loads the entire spec, wasting tokens</li>
                        <li><strong>Agents only need 1-2 capabilities</strong> per task, not hundreds</li>
                    </ul>

                    <div class="callout callout-orange">
                        <h4>The Math</h4>
                        <p>If an agent makes 100 API calls per session, and each call loads a 50KB spec, that's 5MB of redundant tokens - just for routing decisions.</p>
                    </div>

                    <h2 id="solution">The Solution</h2>
                    <p>MAPI Skills splits the specification into two parts:</p>
                    <ol>
                        <li><strong>Skill.md (Index)</strong> - A lightweight index with capability IDs, intent keywords, and file pointers (~2-5KB)</li>
                        <li><strong>Capability Files</strong> - Individual files for each API operation (~0.5-2KB each)</li>
                    </ol>
                    <p>The agent loads the index, matches intent to capability, then loads only that specific capability file.</p>

                    <h2 id="structure">Folder Structure</h2>
<pre>my-api/
├── Skill.md              # Index with intent keywords
├── common/
│   ├── auth.md           # Shared authentication
│   └── schemas/
│       └── types.md      # Shared type definitions
└── capabilities/
    ├── users.create.md   # One file per capability
    ├── users.get.md
    └── users.list.md</pre>

                    <h3>Skill.md (Index)</h3>
<pre># My API

~~~meta
version: 1.0.0
base_url: https://api.example.com
auth: bearer
~~~

## Capabilities

| ID | Intent Keywords | File | Dependencies |
|----|-----------------|------|--------------|
| users.create | create user, add user, register | capabilities/users.create.md | auth |
| users.get | get user, fetch user, user by id | capabilities/users.get.md | auth |
| users.list | list users, all users, search | capabilities/users.list.md | auth |</pre>

                    <h2 id="how-it-works">How It Works</h2>
                    <p>When an agent receives a request like "create a new user named Alice":</p>

                    <div class="callout callout-teal">
                        <h4>Phase 1: Intent Matching</h4>
                        <p>Load Skill.md (~3KB). Match "create a new user" to <code>users.create</code> using intent keywords.</p>
                    </div>

                    <div class="callout callout-teal">
                        <h4>Phase 2: Capability Loading</h4>
                        <p>Load <code>capabilities/users.create.md</code> (~1KB) + <code>common/auth.md</code> (~0.5KB). Execute the API call.</p>
                    </div>

                    <p><strong>Total context: ~4.5KB</strong> instead of 50KB+ for the full spec.</p>

                    <h2 id="results">Test Results</h2>
                    <p>We tested all three approaches on the Notion API (15 test cases):</p>

                    <table class="comparison-table">
                        <tr>
                            <th>Format</th>
                            <th>Accuracy</th>
                            <th>Total Tokens</th>
                            <th>% of OpenAPI</th>
                        </tr>
                        <tr>
                            <td>OpenAPI</td>
                            <td>90%</td>
                            <td>1,102,623</td>
                            <td>100%</td>
                        </tr>
                        <tr>
                            <td>MAPI (Full)</td>
                            <td>100%</td>
                            <td>72,424</td>
                            <td>7%</td>
                        </tr>
                        <tr class="highlight">
                            <td><strong>MAPI Skill</strong></td>
                            <td><strong>90%</strong></td>
                            <td><strong>10,366</strong></td>
                            <td><strong>1%</strong></td>
                        </tr>
                    </table>

                    <p>MAPI Skills achieves <strong>99% token reduction</strong> compared to OpenAPI while maintaining competitive accuracy. The small accuracy gap comes from intent matching - when the Skill.md index keywords are well-tuned, accuracy approaches 100%.</p>

                    <h2 id="converter">Converting Specs</h2>
                    <p>Use the MAPI CLI to convert existing specs to Skill format:</p>

<pre># Convert a single-file MAPI to Skill format
mapi split api.mapi.md -o ./my-skill/

# Convert OpenAPI directly to Skill format
mapi convert openapi.yaml -o ./my-skill/

# Use LLM to generate better intent keywords
mapi split api.mapi.md -o ./my-skill/ --generate-intents</pre>

                    <p>See the <a href="converter.html">Converter Documentation</a> for detailed usage.</p>

                    <h2 id="spec">Full Specification</h2>
                    <p>For complete details on the Skill format, including authoring guidelines and best practices:</p>
                    <p><a href="specs/MAPI-SKILL.html" style="color: var(--teal); font-weight: 600;">Read the MAPI Skill Authoring Guide &rarr;</a></p>
                </main>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2026 Markdown API Project. <a href="https://github.com/jeffrschneider/markdownapi">GitHub</a></p>
            <p>Built for the AI era.</p>
        </div>
    </footer>

    <script>
        function toggleMobileMenu() {
            document.querySelector('.mobile-menu-btn').classList.toggle('active');
            document.querySelector('.mobile-menu').classList.toggle('active');
        }
    </script>
</body>
</html>
